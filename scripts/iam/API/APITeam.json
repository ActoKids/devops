// API Team AWS Policy
{
	"Version": "2012-10-17",
	"Statement": [
		{
			"Effect": "Allow",
			"Action": [
				"dynamodb:BatchGetItem",
				"dynamodb:GetItem",
				"dynamodb:Query",
				"dynamodb:Scan",
				"dynamodb:BatchWriteItem",
				"dynamodb:PutItem",
				"dynamodb:UpdateItem"
			],
			"Resource": 
				"arn:aws:dynamodb:us-west-1:123456789012:table/Messages" // DynamoDB 
		},
		{
			"Effect": "Allow",
			"Action": [
				"logs:CreateLogStream",
				"logs:PutLogEvents"
			],
			"Resource": 
				"arn:aws:logs:us-west-1:123456789012:*"                // CloudWatch
		},
		{
			"Effect": "Allow",
			"Action": [
				"s3:ListBucket"
			],
			"Resource": [
				"arn:aws:s3:us-west-1::bucket-name/*"                  // S3
			] 
		},
		{
			"Effect": "Allow",
			"Action": [
				"s3:PutObject",
				"s3:GetObject",
				"s3:DeleteObject"
			],
			"Resource": [
				"arn:aws:s3:us-west-1::bucket-name/*"                   // S3
			] 
		},
		{
			"Effect": "Allow",
			"Action": [
				"cloudwatch:GetMetricStatistics",
				"cloudwatch:ListMetrics"
			],
			"Resource": "*",                                          // CloudWatch
			"Condition": {
				"Bool": {
					"aws:SecureTransport": "true"
				}
			}
		},
		{
			"Version": "2012-10-17",
			"Statement": [
				{
					"Effect": "Allow",
					"Action": "cognito-sync:*",
					"Resource": [
						"arn:aws:cognito-sync:us-east-1:123456789012:identitypool/${cognito-identity.amazonaws.com:aud}/identity/${cognito-identity.amazonaws.com:sub}/*"
					]                                                // Cognito
				}
			]
		},
		{
			"Sid": "AllowPublicHostedZonePermissions",
			"Effect": "Allow",
			"Action": [
				"route53:CreateHostedZone",
				"route53:UpdateHostedZoneComment",
				"route53:GetHostedZone",
				"route53:ListHostedZones",
				"route53:DeleteHostedZone",
				"route53:ChangeResourceRecordSets",
				"route53:ListResourceRecordSets",
				"route53:GetHostedZoneCount",
				"route53:ListHostedZonesByName"
			],
			"Resource": "*"                                         // Route53 
		},
		{
			"Sid": "AllowHealthCheckPermissions",
			"Effect": "Allow",
			"Action": [
				"route53:CreateHealthCheck",
				"route53:UpdateHealthCheck",
				"route53:GetHealthCheck",
				"route53:ListHealthChecks",
				"route53:DeleteHealthCheck",
				"route53:GetCheckerIpRanges",
				"route53:GetHealthCheckCount",
				"route53:GetHealthCheckStatus",
				"route53:GetHealthCheckLastFailureReason"
			],
			"Resource": "*" 									   // Route53
		}
	]
}
